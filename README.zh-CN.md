[English](./README.md) | ç®€ä½“ä¸­æ–‡

# react-native-reanimated-carousel

<img src="assets/home-banner-zh.png" width="100%"/>

![Hacktober Badge](https://img.shields.io/badge/hacktoberfest-2022-blueviolet)
![platforms](https://img.shields.io/badge/platforms-Android%20%7C%20iOS%20%7C%20Web-brightgreen.svg?style=flat-square&colorB=191A17)
[![npm](https://img.shields.io/npm/v/react-native-reanimated-carousel.svg?style=flat-square)](https://www.npmjs.com/package/react-native-reanimated-carousel)
[![npm](https://img.shields.io/npm/dm/react-native-reanimated-carousel.svg?style=flat-square&colorB=007ec6)](https://www.npmjs.com/package/react-native-reanimated-carousel)
[![npm](https://img.shields.io/npm/dw/react-native-reanimated-carousel.svg?style=flat-square&colorB=007ec6)](https://www.npmjs.com/package/react-native-reanimated-carousel)
[![github issues](https://img.shields.io/github/issues/dohooo/react-native-reanimated-carousel.svg?style=flat-square)](https://github.com/dohooo/react-native-reanimated-carousel/issues)
[![github closed issues](https://img.shields.io/github/issues-closed/dohooo/react-native-reanimated-carousel.svg?style=flat-square&colorB=44cc11)](https://github.com/dohooo/react-native-reanimated-carousel/issues?q=is%3Aissue+is%3Aclosed)
[![discord chat](https://img.shields.io/badge/chat-discord-blue?style=flat&logo=discord)](https://discord.gg/KsXRuDs43y)

## ReactNative ç¤¾åŒºæœ€å¥½ç”¨çš„è½®æ’­å›¾ç»„ä»¶! ğŸ‰ğŸ‰ğŸ‰

-   **å®Œå…¨è§£å†³äº†`react-native-snap-carousel`çš„** [[é—®é¢˜]](https://github.com/meliorence/react-native-snap-carousel/issues/632)
-   **æ˜“ç”¨**ã€**æ— é™æ»šåŠ¨**ã€**å®Œå…¨ä½¿ç”¨ Reanimated2 å®ç°**

> v2 å·²ç»å‘å¸ƒï¼Œå¸Œæœ›å¤§å®¶å–œæ¬¢!~ [[v1 æ–‡æ¡£]](https://github.com/dohooo/react-native-reanimated-carousel/tree/v1.x.x)

> æ”¯æŒ Web ç«¯ [[ç¤ºä¾‹]](https://dohooo.github.io/react-native-reanimated-carousel/)

> ç‚¹å‡»å›¾ç‰‡ï¼ŒæŸ¥çœ‹ä»£ç  [[è¯•ä¸€ä¸‹]](https://snack.expo.dev/@zhaodonghao586/simple-carousel) ğŸº

|              <img src="assets/normal-horizontal.gif"/>               |                <img src="assets/normal-vertical.gif"/>                |              <img src="assets/parallax-horizontal.gif"/>               |
| :------------------------------------------------------------------: | :-------------------------------------------------------------------: | :--------------------------------------------------------------------: |
|  <a href="./exampleExpo/src/normal/index.tsx">normal-horizontal</a>  |   <a href="./exampleExpo/src/normal/index.tsx">normal-vertical</a>    | <a href="./exampleExpo/src/parallax/index.tsx">parallax-horizontal</a> |
|              <img src="assets/parallax-vertical.gif"/>               |             <img src="assets/stack-horizontal-left.gif"/>             |             <img src="assets/stack-horizontal-right.gif"/>             |
| <a href="./exampleExpo/src/parallax/index.tsx">parallax-vertical</a> | <a href="./exampleExpo/src/stack/index.tsx">stack-horizontal-left</a> | <a href="./exampleExpo/src/stack/index.tsx">stack-horizontal-right</a> |
|             <img src="assets/stack-vertical-left.gif"/>              |             <img src="assets/stack-vertical-right.gif"/>              |             <img src="assets/stack-horizontal-right.gif"/>             |
| <a href="./exampleExpo/src/stack/index.tsx">stack-vertical-left</a>  | <a href="./exampleExpo/src/stack/index.tsx">stack-vertical-right</a>  | <a href="./exampleExpo/src/stack/index.tsx">stack-horizontal-right</a> |
|                  <img src="assets/left-align.gif"/>                  |
|   <a href="./exampleExpo/src/left-align/index.tsx">left-align</a>    |

> ç°åœ¨ä½ å¯ä»¥å’Œæˆ‘ä»¬ä¸€èµ·æ¥åˆ¶ä½œé…·ç‚«çš„åŠ¨ç”»äº†ï¼ éå¸¸ç®€å•! [[è¯¦æƒ…]](./docs/custom-animation.zh-CN.md)

|                          <img src="assets/advanced-parallax.gif"/>                          |                      <img src="assets/pause-advanced-parallax.gif"/>                      |                   <img src="assets/scale-fade-in-out.gif"/>                   |
| :-----------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------: |
|        <a href="./exampleExpo/src/advanced-parallax/index.tsx">advanced-parallax</a>        | <a href="./exampleExpo/src/pause-advanced-parallax/index.tsx">pause-advanced-parallax</a> | <a href="./exampleExpo/src/scale-fade-in-out/index.tsx">scale-fade-in-out</a> |
|                      <img src="assets/rotate-scale-fade-in-out.gif"/>                       |                           <img src="assets/rotate-in-out.gif"/>                           |                     <img src="assets/anim-tab-bar.gif"/>                      |
| <a href="./exampleExpo/src/rotate-scale-fade-in-out/index.tsx">rotate-scale-fade-in-out</a> |           <a href="./exampleExpo/src/rotate-in-out/index.tsx">rotate-in-out</a>           |      <a href="./exampleExpo/src/anim-tab-bar/index.tsx">anim-tab-bar</a>      |
|                               <img src="assets/marquee.gif"/>                               |                             <img src="assets/multiple.gif"/>                              |                       <img src="assets/circular.gif"/>                        |
|                  <a href="./exampleExpo/src/marquee/index.tsx">marquee</a>                  |                <a href="./exampleExpo/src/multiple/index.tsx">multiple</a>                |          <a href="./exampleExpo/src/circular/index.tsx">circular</a>          |
|                                <img src="assets/fold.gif"/>                                 |                               <img src="assets/tear.gif"/>                                |                      <img src="assets/press-swipe.gif"/>                      |
|                     <a href="./exampleExpo/src/fold/index.tsx">fold</a>                     |                    <a href="./exampleExpo/src/tear/index.tsx">tear</a>                    |       <a href="./exampleExpo/src/press-swipe/index.tsx">press-swipe</a>       |
|                               <img src="assets/cube-3d.gif"/>                               |                           <img src="assets/blur-parallax.gif"/>                           |                   <img src="assets/curve.gif"/>                               |
|                  <a href="./exampleExpo/src/cube-3d/index.tsx">cube-3d</a>                  |           <a href="./exampleExpo/src/blur-parallax/index.tsx">blur-parallax</a>           |               <a href="./exampleExpo/src/curve/index.tsx">curve</a>           |
|                           <img src="assets/parallax-layers.gif"/>                           |                            <img src="assets/stack-cards.gif"/>                            |                         <img src="assets/flow.gif"/>                          |
|          <a href="./exampleExpo/src/parallax-layers/index.tsx">parallax-layers</a>          |             <a href="./exampleExpo/src/stack-cards/index.tsx">stack-cards</a>             |              <a href="./exampleExpo/src/flow/index.tsx">flow</a>              |

## ç›®å½•

1. [å®‰è£…](#å®‰è£…)
1. [ä½¿ç”¨](#ä½¿ç”¨)
1. [Props](./docs/props.zh-CN.md)
1. [æç¤º](#æç¤º)
1. [åŸå› ](#åŸå› )
1. [ç¤ºä¾‹](#ç¤ºä¾‹)

---

## å®‰è£…

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰“å¼€ç»ˆç«¯å¹¶ä¸”æ‰§è¡Œ:

```sh
yarn add react-native-reanimated-carousel
```

å¦‚æœä½ ä½¿ç”¨ npm:

```sh
npm install react-native-reanimated-carousel
```

å¹¶ä¸”æˆ‘ä»¬éœ€è¦å®‰è£… [`react-native-gesture-handler`](https://github.com/kmagiera/react-native-gesture-handler) ã€[`react-native-reanimated(>=2.0.0)`](https://github.com/kmagiera/react-native-reanimated)ï¼Œå®‰è£…æ­¥éª¤å¯å‚è€ƒå„è‡ªæ–‡æ¡£ã€‚
| | react-native-reanimated | react-native-gesture-handler |
| -------------------------------------- | ----------------------- | ---------------------------- |
| react-native-reanimated-carousel < v3 | <2.7.0 | \* |
| react-native-reanimated-carousel >= v3 | >=2.7.0 | \* |

## ä½¿ç”¨

```tsx
import * as React from 'react';
import { Dimensions, Text, View } from 'react-native';
import Carousel from 'react-native-reanimated-carousel';

function Index() {
    const width = Dimensions.get('window').width;
    return (
        <View style={{ flex: 1 }}>
            <Carousel
                loop
                width={width}
                height={width / 2}
                autoPlay={true}
                data={[...new Array(6).keys()]}
                scrollAnimationDuration={1000}
                onSnapToItem={(index) => console.log('current index:', index)}
                renderItem={({ index }) => (
                    <View
                        style={{
                            flex: 1,
                            borderWidth: 1,
                            justifyContent: 'center',
                        }}
                    >
                        <Text style={{ textAlign: 'center', fontSize: 30 }}>
                            {index}
                        </Text>
                    </View>
                )}
            />
        </View>
    );
}

export default Index;
```

## æç¤º

-   ä¼˜åŒ–
    -   å½“æ¸²æŸ“å¤§é‡å…ƒç´ æ—¶ï¼Œå¯ä½¿ç”¨`windowSize`å±æ€§ï¼Œæ¥æ§åˆ¶å½“å‰å…ƒç´ çš„ä¸¤ä¾§æ¸²æŸ“æ•°é‡ï¼Œé»˜è®¤ä¸ºå…¨é‡æ¸²æŸ“ã€‚ç»æµ‹è¯•ä¸åŠ æ­¤å±æ€§ï¼Œæ¸²æŸ“ 200 ä¸ªç©º view æ—¶ä¼šå‡ºç°æ‰å¸§æƒ…å†µï¼Œè®¾ç½®æ­¤å±æ€§åæ¸²æŸ“ 1000 ä¸ªç©º view ä¾æ—§æµç•…ã€‚ï¼ˆå…·ä½“æ•°é‡ä¸æµ‹è¯•çš„æ‰‹æœºå‹å·ç›¸å…³ï¼‰
-   åœ¨`ScrollView/FlastList`ä¸­ä½¿ç”¨

    -   **[#143](https://github.com/dohooo/react-native-reanimated-carousel/issues/143) - Carousel suppresses ScrollView/FlastList scroll gesture handler:** å½“è½®æ’­å›¾è¢«æ”¾ç½®åœ¨ ScrollView/FlatList ä¸­æ—¶ï¼Œè½®æ’­å›¾çš„éƒ¨åˆ†å°†æ— æ³•æ§åˆ¶åˆ—è¡¨æ»šåŠ¨ï¼Œè§£å†³åŠæ³•æ˜¯æˆ‘ä»¬åªå…è®¸æ‰‹åŠ¿ç³»ç»Ÿè¯†åˆ«æŸä¸€æ–¹å‘ï¼Œè€Œä¸æ˜¯æ‰€æœ‰æ–¹å‘ï¼Œåœ¨ä¸‹æ–¹ä¾‹å­ä¸­æˆ‘ä»¬ä¸ºäº†è®©åˆ—è¡¨å¯ä»¥å‘ä¸‹æ»‘åŠ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨[activeOffsetX](https://docs.swmansion.com/react-native-gesture-handler/docs/1.10.3/api/gesture-handlers/pan-gh/#activeoffsetx)å±æ€§æ¥æ§åˆ¶è½®æ’­å›¾åªè¯†åˆ«æ¨ªå‘æ‰‹åŠ¿:

        ```tsx
        <Carousel
          {...}
          panGestureHandlerProps={{
            activeOffsetX: [-10, 10],
          }}
        />
        ```

-   RTL
    -   æ‰€æœ‰ layout å‡å®Œç¾æ”¯æŒ RTL æ¨¡å¼ï¼Œå¹¶ä¸”æ— éœ€å†åšä»»ä½•é…ç½®ã€‚ä½†åœ¨ RTL æ¨¡å¼ä¸‹ä½¿ç”¨è‡ªåŠ¨æ’­æ”¾æ—¶ï¼Œé»˜è®¤ä¸ä¼šè‡ªåŠ¨è½¬æ¢æ–¹å‘ï¼Œéœ€è¦ç»“åˆ autoPlayReverse æ¥æ‰‹åŠ¨æ§åˆ¶æ–¹å‘ã€‚
-   EXPO
    -   å¦‚æœä½ ä½¿ç”¨ EXPO æ‰˜ç®¡å·¥ä½œæµï¼Œè¯·ç¡®å®šä½ çš„ EXPO SDK ç‰ˆæœ¬å¤§äº 41ï¼Œå› ä¸ºæ—§çš„ç‰ˆæœ¬å¹¶ä¸æ”¯æŒ`Reanimated(v2)`ã€‚
-   å·¥ä½œåŸç†
    - [å…³äºRNRC](./docs/about.zh-CN.md)

## åŸå› 

<details>
  <summary>å¸¸è§çš„æ— é™æ»šåŠ¨è½®æ’­å›¾ï¼Œåœ¨å¿«é€Ÿæ»‘åŠ¨æ—¶ä¼šå‡ºç°å¡ä½çš„æƒ…å†µï¼Œè¿™æ˜¯å› ä¸ºå®ç°æ–¹å¼è€Œå¯¼è‡´çš„é—®é¢˜ã€‚æ‰€ä»¥è¿™ä¸ªç»„ä»¶ç”¨äº†å®Œå…¨ä¸åŒçš„æ–¹å¼æ¥å®ç°ï¼Œå¹¶è·å¾—äº†æœ€ä½³çš„æ€§èƒ½ä¹Ÿè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œè¿™å°±æ˜¯åˆ›å»ºè¿™ä¸ªåº“çš„åŸå› ã€‚</summary>
  <p align="center">
  ä½¿ç”¨react-native-snap-carouselå¿«é€Ÿæ»‘åŠ¨ï¼Œå½“åˆ°è¿æ¥å¤„æ—¶å¯ä»¥çœ‹æ¸…æ¥šçš„çœ‹åˆ°å¡é¡¿ã€‚(gif 4.6mb)
</p>
<p align="center">
  <img src="assets/react-native-snap-carousel.gif" width="50%"/>
</p>

<p align="center">
  ä½¿ç”¨react-native-reanimated-carouselå¯¹æ¯”,æ¯ç§’æ»šåŠ¨åå¼ ä¾ç„¶é¡ºç•…é“¾æ¥ï¼Œæ— é™æ»šåŠ¨ã€‚è¿™é‡Œä½¿ç”¨äº†gifæ— æ³•å¾ˆæ¸…æ™°çš„çœ‹å‡ºã€‚
</p>
<p align="center">
  <img src="assets/normal-fast.gif" width="50%"/>
</p>
</details>

## ç¤ºä¾‹

> `:pretty` ä½¿ç”¨æ›´å¥½çœ‹çš„å›¾ç‰‡

```shell
yarn ios
yarn ios:pretty

yarn android
yarn android:pretty

yarn web
yarn web:pretty
```

## èµåŠ©å•†

<p align="center">
  <img src='https://github.com/dohooo/sponsors/blob/master/sponsors.png?raw=true'/>
</p>

## è®¸å¯

MIT
