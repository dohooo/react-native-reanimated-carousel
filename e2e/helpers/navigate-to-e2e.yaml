appId: com.react-native-reanimated-carousel.example
---

# Ensure a clean restart so the app always opens on the home screen,
# even if a previous test left it on the E2E page.
- stopApp
- launchApp:
    clearState: false

# Wait for the app to fully load
- waitForAnimationToEnd:
    timeout: 5000

# In CI, Expo Dev Client may open on the "Development Servers" screen first.
- tapOn:
    text: "http://localhost:8081"
    optional: true

# Wait for the app to settle after Metro connection (avoids kAXErrorInvalidUIElement
# during the UI transition when the dev client connects to the bundler).
- waitForAnimationToEnd:
    timeout: 8000

# Dismiss Expo developer menu onboarding modal if it appears.
- tapOn:
    text: "Continue"
    optional: true

- tapOn:
    text: "Close"
    optional: true

# Wait until the home screen demos list is loaded
- extendedWaitUntil:
    visible: "Normal"
    timeout: 180000

# Navigate to E2E test page via hidden testID trigger (not visible in demo list)
- scrollUntilVisible:
    element: "Multiple"
    direction: DOWN
    timeout: 10000

- tapOn:
    id: "navigate-e2e-comprehensive"

# Wait for the E2E test page to fully load
- waitForAnimationToEnd:
    timeout: 5000

# Reset all settings to default (in case previous test left modified state)
- scrollUntilVisible:
    element: "Reset All"
    direction: DOWN
    timeout: 5000

- tapOn:
    id: "btn-reset"

- waitForAnimationToEnd:
    timeout: 3000

# Scroll back to top to verify initial state
- swipe:
    start: "50%, 30%"
    end: "50%, 90%"
    duration: 200
- swipe:
    start: "50%, 30%"
    end: "50%, 90%"
    duration: 200
- swipe:
    start: "50%, 30%"
    end: "50%, 90%"
    duration: 200

- waitForAnimationToEnd:
    timeout: 2000

# Verify initial state
- assertVisible: "Slide 0"
- assertVisible: "Current Index: 0"
